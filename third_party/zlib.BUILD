# NOTE: this build file was taken from:
# https://github.com/bazelbuild/bazel/blob/707fbb67e92a5067107a71bf2d4e8baeeade33b2/third_party/BUILD

filegroup(
    name = "srcs",
    srcs = glob(["**"]),
    visibility = ["//third_party:__pkg__"],
)

filegroup(
    name = "embedded_tools",
    srcs = glob(["*.c"]) + glob(["*.h"]) + ["BUILD"] + ["LICENSE.txt"],
    visibility = ["//visibility:public"],
)

cc_library(
    name = "zlib",
    srcs = glob(["*.c"]),
    hdrs = glob(["*.h"]),
    # Use -Dverbose=-1 to turn off zlib's trace logging. (#3280)
    copts = [
        "-w",
        "-Dverbose=-1",
        # zlib is not c99, and uses `write` without including a header
        "-Wno-implicit-function-declaration",
    ],
    includes = ["."],
    linkstatic = 1,
    visibility = ["//visibility:public"],
)
